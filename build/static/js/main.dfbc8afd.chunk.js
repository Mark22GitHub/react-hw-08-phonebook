(this["webpackJsonpreact-hw-07-phonebook"]=this["webpackJsonpreact-hw-07-phonebook"]||[]).push([[0],{17:function(t,n,e){t.exports={ContactListItem:"ContactList_ContactListItem__14o34",ContactsListText:"ContactList_ContactsListText__2_Iht",ContactsListButton:"ContactList_ContactsListButton__2wEPP"}},23:function(t,n,e){t.exports={filter:"Filter_filter__35l_Z",input:"Filter_input__2CEsa"}},39:function(t,n,e){},65:function(t,n,e){"use strict";e.r(n);var c=e(0),a=e.n(c),r=e(10),o=e.n(r),s=(e(39),e(12)),u=e(13),i=e(16),b=e(14),l=e(3),j=e(20),d=e(67),f=e(8),h=e.n(f),O=e(6),m=e(9),p=e.n(m),C=e(2),g=Object(C.b)("contacts/fetchContactsRequest"),x=Object(C.b)("contacts/fetchContactsSuccess"),v=Object(C.b)("contacts/fetchContactsError"),_=Object(C.b)("contacts/addContactsRequest"),F=Object(C.b)("contacts/addContactsSuccess"),L=Object(C.b)("contacts/addContactsError"),y=Object(C.b)("contacts/deleteFromContactsRequest"),I=Object(C.b)("contacts/deleteFromContactsSuccess"),N=Object(C.b)("contacts/deleteFromContactsError"),S=Object(C.b)("contacts/changeFilter");p.a.defaults.baseURL="http://localhost:2204";var k,w,E=function(){return function(t){t(g()),p.a.get("/contacts").then((function(n){var e=n.data;return t(x(e))})).catch((function(n){return t(v(n))}))}},T=function(t){var n=t.name,e=t.number;return function(t){var c={name:n,number:e};t(_()),p.a.post("/contacts",c).then((function(n){var e=n.data;return t(F(e))})).catch((function(n){return t(L(n))}))}},A=function(t){return function(n){n(y()),p.a.delete("contacts/".concat(t)).then((function(){return n(I(t))})).catch((function(t){return n(N(t))}))}},D=e(11),B=function(t){return t.contacts.items},R=function(t){return t.contacts.filter},q={getLoadingContacts:function(t){return t.contacts.loading},getAllContacts:B,getFilter:R,getVisibleContacts:Object(D.a)([B,R],(function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))}))},P=e(15),J=e(4),M=Object(C.c)([],(k={},Object(l.a)(k,x,(function(t,n){return n.payload})),Object(l.a)(k,F,(function(t,n){var e=n.payload;return[].concat(Object(P.a)(t),[e])})),Object(l.a)(k,I,(function(t,n){var e=n.payload;return t.filter((function(t){return t.id!==e}))})),k)),V=Object(C.c)(!1,(w={},Object(l.a)(w,g,(function(){return!0})),Object(l.a)(w,x,(function(){return!1})),Object(l.a)(w,v,(function(){return!1})),Object(l.a)(w,_,(function(){return!0})),Object(l.a)(w,F,(function(){return!1})),Object(l.a)(w,L,(function(){return!1})),Object(l.a)(w,y,(function(){return!0})),Object(l.a)(w,I,(function(){return!1})),Object(l.a)(w,N,(function(){return!1})),w)),z=Object(C.c)("",Object(l.a)({},S,(function(t,n){return n.payload}))),H=Object(C.c)(null,{}),K=Object(J.c)({items:M,filter:z,loading:V,error:H}),U=e(1),Z={name:"",number:""},G=function(t){Object(i.a)(e,t);var n=Object(b.a)(e);function e(){var t;Object(s.a)(this,e);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))).nameInputId=Object(d.a)(),t.numberInputId=Object(d.a)(),t.state=Object(j.a)({},Z),t.handleChange=function(n){var e=n.currentTarget,c=e.name,a=e.value;t.setState(Object(l.a)({},c,a))},t.handleSubmit=function(n){n.preventDefault();var e=t.state.name;if(t.props.contacts.find((function(t){return t.name===e})))return alert("".concat(e," is already in contacts")),void t.reset();t.props.onSubmit(t.state),t.reset()},t.reset=function(){t.setState(Object(j.a)({},Z))},t}return Object(u.a)(e,[{key:"render",value:function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("form",{className:h.a.contactForm,onSubmit:this.handleSubmit,children:[Object(U.jsxs)("label",{htmlFor:this.nameInputId,children:["Name",Object(U.jsx)("input",{className:h.a.input,type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:this.nameInputId,placeholder:"enter name"})]}),Object(U.jsxs)("label",{htmlFor:this.numberInputId,children:["Number",Object(U.jsx)("input",{className:h.a.input,type:"tel",name:"number",value:this.state.number,onChange:this.handleChange,id:this.numberInputId,placeholder:"enter number"})]}),Object(U.jsx)("button",{className:h.a.addContact,type:"submit",children:"Add contact"})]})})}}]),e}(c.Component),Q=Object(O.b)((function(t){return{contacts:q.getAllContacts(t)}}),(function(t){return{onSubmit:function(n){return t(T(n))}}}))(G),W=e(17),X=e.n(W),Y=Object(O.b)((function(t){return{contacts:q.getVisibleContacts(t)}}),(function(t){return{onDeleteFromContacts:function(n){return t(A(n))}}}))((function(t){var n=t.contacts,e=t.onDeleteFromContacts;return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("ul",{children:n.map((function(t){var n=t.id,c=t.name,a=t.number;return Object(U.jsxs)("li",{className:X.a.ContactListItem,children:[Object(U.jsxs)("p",{className:X.a.ContactsListText,children:[c,":",a]}),Object(U.jsx)("button",{className:X.a.ContactsListButton,onClick:function(){return e(n)},children:"Delete"})]},n)}))})})})),$=e(23),tt=e.n($),nt=Object(O.b)((function(t){return{value:q.getFilter(t)}}),(function(t){return{onChange:function(n){return t(S(n.target.value))}}}))((function(t){var n=t.value,e=t.onChange;return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("label",{className:tt.a.filter,children:["Find contact by name",Object(U.jsx)("input",{className:tt.a.input,type:"text",value:n,onChange:e})]})})})),et=function(t){Object(i.a)(e,t);var n=Object(b.a)(e);function e(){return Object(s.a)(this,e),n.apply(this,arguments)}return Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(U.jsxs)("div",{style:{width:"300px",margin:"0 auto"},children:[Object(U.jsx)("h1",{children:"Phonebook"}),Object(U.jsx)(Q,{}),Object(U.jsx)("h2",{children:"Contacts"}),Object(U.jsx)(nt,{}),Object(U.jsx)(Y,{}),this.props.isLoadingContacts&&Object(U.jsx)("h1",{children:"Loading..."})]})}}]),e}(c.Component),ct=Object(O.b)((function(t){return{isLoadingContacts:q.getLoadingContacts(t)}}),(function(t){return{fetchContacts:function(){return t(E())}}}))(et),at=(e(64),e(7)),rt=e(34),ot=e.n(rt),st=[].concat(Object(P.a)(Object(C.d)({serializableCheck:{ignoredActions:[at.a,at.f,at.b,at.c,at.d,at.e]}})),[ot.a]),ut=Object(C.a)({reducer:{contacts:K},middleware:st,devTools:!1});o.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(O.a,{store:ut,children:Object(U.jsx)(ct,{})})}),document.getElementById("root"))},8:function(t,n,e){t.exports={contactForm:"ContactForm_contactForm__1I-Eb",addContact:"ContactForm_addContact__oiTcK",input:"ContactForm_input__3dHde"}}},[[65,1,2]]]);
//# sourceMappingURL=main.dfbc8afd.chunk.js.map